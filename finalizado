//1. Classe Abstrata Conta // 



abstract class Conta {
    protected String numeroConta;
    protected String titular;
    protected double saldo;

    public Conta(String titular) {
        this.titular = titular;
        this.numeroConta = gerarNumeroConta();
        this.saldo = 0.0;
    }

    private String gerarNumeroConta() {
        return "ACC" + (int) (Math.random() * 100000);
    }

    protected void alterarSaldo(double valor) {
        this.saldo += valor;
    }

    public double getSaldo() {
        return saldo;
    }

    public String getNumeroConta() {
        return numeroConta;
    }

    public String getTitular() {
        return titular;
    }

    public void exibirDados() {
        System.out.println("\nğŸ”¹ Conta: " + numeroConta);
        System.out.println("ğŸ‘¤ Titular: " + titular);
        System.out.println("ğŸ’° Saldo: R$ " + String.format("%.2f", saldo));
    }




//2. Classe ContaCorrente //

class ContaCorrente extends Conta implements Tarifavel {
    private static final double TAXA_SAQUE = 5.0; 

    public ContaCorrente(String titular) {
        super(titular);
    }

    public void sacar(double valor) {
        if (valor + TAXA_SAQUE > saldo) {
            System.out.println("âŒ Saldo insuficiente para saque!");
        } else {
            alterarSaldo(-(valor + TAXA_SAQUE));
            System.out.println("âœ… Saque de R$ " + valor + " realizado com sucesso!");
        }
    }

    public void depositar(double valor) {
        if (valor > 0) {
            alterarSaldo(valor);
            System.out.println("âœ… DepÃ³sito de R$ " + valor + " realizado com sucesso!");
        } else {
            System.out.println("âŒ Valor de depÃ³sito invÃ¡lido!");
        }
    }

    public void aplicar(double valor, ContaPoupanca contaPoupanca) {
        if (valor > saldo) {
            System.out.println("âŒ Saldo insuficiente para aplicaÃ§Ã£o!");
        } else {
            alterarSaldo(-valor);
            contaPoupanca.receberAplicacao(valor);
            System.out.println("âœ… AplicaÃ§Ã£o de R$ " + valor + " realizada com sucesso na Conta PoupanÃ§a!");
        }
    }

    @Override
    public void aplicarTarifaMensal(double valor) {
        alterarSaldo(-valor);
        System.out.println("ğŸ’¸ Tarifa mensal de R$ " + valor + " aplicada!");
    }

    @Override
    public void cobrarTaxa(double valor) {
        alterarSaldo(-valor);
        System.out.println("ğŸ’° Taxa de R$ " + valor + " cobrada!");
    }
}



//3. Classe ContaPoupanca //


class ContaPoupanca extends Conta {

    public ContaPoupanca(String titular) {
        super(titular);
    }

    public void receberAplicacao(double valor) {
        alterarSaldo(valor);
    }

    public void resgatar(double valor, ContaCorrente contaCorrente) {
        if (valor > saldo) {
            System.out.println("âŒ Saldo insuficiente na poupanÃ§a!");
        } else {
            alterarSaldo(-valor);
            contaCorrente.depositar(valor);
            System.out.println("âœ… Resgate de R$ " + valor + " realizado com sucesso para a Conta Corrente!");
        }
    }
}




//.4 Classe Principal (Interaface de interaÃ§Ã£o)//

import java.util.Scanner;

public class Principal {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        ContaCorrente contaCorrente = null;
        ContaPoupanca contaPoupanca = null;

        System.out.println("ğŸš€ Bem-vindo ao Banco Digital!");
        System.out.print("ğŸ‘¤ Informe o nome do titular: ");
        String titular = scanner.nextLine();

        System.out.println("\nğŸ“Œ Escolha o tipo de conta:");
        System.out.println("1ï¸âƒ£ Conta Corrente");
        System.out.println("2ï¸âƒ£ Conta PoupanÃ§a");
        System.out.print("ğŸ‘‰ Digite sua opÃ§Ã£o: ");
        int escolha = scanner.nextInt();

        if (escolha == 1) {
            contaCorrente = new ContaCorrente(titular);
        } else if (escolha == 2) {
            contaPoupanca = new ContaPoupanca(titular);
        } else {
            System.out.println("âŒ OpÃ§Ã£o invÃ¡lida!");
            System.exit(0);
        }

        System.out.print("\nğŸ’° Deseja fazer um depÃ³sito inicial? (0 para nenhum): R$ ");
        double depositoInicial = scanner.nextDouble();

        if (contaCorrente != null) {
            contaCorrente.depositar(depositoInicial);
        } else if (contaPoupanca != null) {
            contaPoupanca.receberAplicacao(depositoInicial);
        }

        while (true) {
            System.out.println("\nğŸ“Œ Escolha uma operaÃ§Ã£o:");
            System.out.println("1ï¸âƒ£ Sacar");
            System.out.println("2ï¸âƒ£ Depositar");
            System.out.println("3ï¸âƒ£ Aplicar dinheiro na PoupanÃ§a");
            System.out.println("4ï¸âƒ£ Resgatar da PoupanÃ§a");
            System.out.println("5ï¸âƒ£ Exibir dados da conta");
            System.out.println("0ï¸âƒ£ Sair");
            System.out.print("ğŸ‘‰ Digite sua opÃ§Ã£o: ");
            int opcao = scanner.nextInt();

            if (opcao == 0) {
                System.out.println("ğŸ‘‹ Obrigado por utilizar nosso banco!");
                break;
            }

            if (contaCorrente != null) {
                switch (opcao) {
                    case 1:
                        System.out.print("ğŸ’µ Informe o valor do saque: R$ ");
                        double saque = scanner.nextDouble();
                        contaCorrente.sacar(saque);
                        break;
                    case 2:
                        System.out.print("ğŸ’° Informe o valor do depÃ³sito: R$ ");
                        double deposito = scanner.nextDouble();
                        contaCorrente.depositar(deposito);
                        break;
                    case 3:
                        if (contaPoupanca == null) {
                            contaPoupanca = new ContaPoupanca(titular);
                        }
                        System.out.print("ğŸ“¥ Informe o valor a aplicar na poupanÃ§a: R$ ");
                        double valorAplicacao = scanner.nextDouble();
                        contaCorrente.aplicar(valorAplicacao, contaPoupanca);
                        break;
                    case 4:
                        if (contaPoupanca != null) {
                            System.out.print("ğŸ“¤ Informe o valor a resgatar: R$ ");
                            double valorResgate = scanner.nextDouble();
                            contaPoupanca.resgatar(valorResgate, contaCorrente);
                        } else {
                            System.out.println("âŒ VocÃª ainda nÃ£o possui uma Conta PoupanÃ§a!");
                        }
                        break;
                    case 5:
                        contaCorrente.exibirDados();
                        break;
                    default:
                        System.out.println("âŒ OpÃ§Ã£o invÃ¡lida!");
                }
            } else {
                System.out.println("âŒ OperaÃ§Ã£o nÃ£o disponÃ­vel para Conta PoupanÃ§a.");
            }
        }

        scanner.close();
    }
}






































































































































